<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="../internal.js"></script>
    <style type="text/css">
        *{margin:0;padding:0;color: #838383;}
        table{font-size: 12px;margin: 10px;line-height: 30px}
        .txt{width:300px;height:21px;line-height:21px;border:1px solid #d7d7d7;}
    </style>
</head>
<body>

<table>
    <tr>
        <td><label for="href">视频地址：</label></td>
        <td><input class="txt" id="href" type="text" /></td>
    </tr>
</table>
<!-- jquery -->
<script type="text/javascript" src="../../third-party/jquery-1.10.2.min.js"></script>
<script type="text/javascript">
    function handleDialogOk() {
        if ($G('href').value) {
            if ($G('href').value.indexOf('iframe')  > -1) {
                var $frame = $($G('href').value);
                var newAttrs = {
                    scrolling: 'no',
                    border: '0',
                    framespacing: '0',
                    allowfullscreen: true,
                };
                $frame.attr(newAttrs);
                editor.execCommand('insertHtml', $frame.prop("outerHTML"));
                dialog.close();
            } else {
                alert("视频嵌入代码错误");
            }
        } else {
            alert("请输入视频嵌入代码");
            return false;
        }
    }

    dialog.onok = handleDialogOk;
    $G('href').onkeydown = function(evt) {
        evt = evt || window.event;
        if (evt.keyCode == 13) {
            handleDialogOk();
            return false;
        }
    }
</script>
</body>
</html>